DOM2 和 DOM3

本章内容
・DOM2和DOM3的变化
・操作样式的DOM API
・DOM遍历和范围

DOM1级主要定义的是HTML和XML文档的底层结构。DOM2和DOM3级则在这个结构的基础上引入了更多的交互功能，也支持了更高级的XML特性。
DOM2和DOM3级分为许多模块：
・DOM2级核心(DOM Level 2 Core)：在1级核心基础上构建，为节点添加了更多方法和属性
・DOM2级识图(DOM Level 2 Views)：为文档定义了基于样式信息的不同视图
・DOM2级事件(DOM Level 2 Events)：说明了如何使用事件与DOM文档交互
・DOM2级样式(DOM Level 2 Style)：定义了如何以编程方式来访问和改变CSS样式信息
・DOM2级遍历和范围(DOM Level 2 Traversal and Range)：引入了遍历DOM文档和选择其特定部分的接口
・DOM2级HTML(DOM Level 2 HTML)：在1级HTML基础上构建，添加了更多属性、方法和新接口。

本章探讨除DOM2级事件之外的所有模块，事件将在第13章详解

12.1 DOM变化

DOM2级和3级的存在是为了扩展DOM API，以满足操作XML的需求，同时提供了错误检查和特性检测能力。

DOM2级没有增加新类型，只是增加新方法和属性来增强既有类型。

DOM3同样增强了既有类型也引入了一些新类型

12.1.1. 针对XML命名空间的变化
有了XML命名空间，不同XML文档的元素就可以混合在一起，共同构成格式良好的文档，而不同担心发生命名冲突。
HTML不支持XML命名空间，但是XHTML支持

命名空间使用xmlns特性来指定。XHTML的命名空间是http://www.w3.org/1999/xhtml，将其包含在html<html>元素内
<html xmlns = "http://www.w3.org/1999/xhtml"></html>

1. Node类型的变化
在DOM2级中，Node类型包含下列特定于命名空间的属性
localName：不带命名空间前缀的节点名称
namespaceURI：命名空间URI或者(在未指定情况下是)null
prefix: 命名空间前缀或者(在未指定的情况下)nul

DOM3级在此基础上引入了下列方法:
isDefaultNamespace(namespaceURI)：在指定的namespaceURI是当前节点的默认命名空间的情况下返回true
lookupNamespaceURI(prefix)：返回给定prefix的命名空间
lookupPrefix(namespaceURI)：发挥给定namespaceURI的前缀

2 Document类型的变化
createElementsNS(namespaceURI，tagName)：使用给定的tagName创建一个属于命名空间namespaceURI的新元素
createAttributeNS(namespaceURI，attributeName)：使用给定的attributeName创建一个属于命名空间namespaceURI的新特性
getElementByTagNameNS(namespaceURI，tagName)：返回属于命名空间namespaceURI的tagName元素的Nodelist
注：只有文档中存在两个或多个命名空间时，这些与命名空间有关的方法才是必须的

3. Element类型的变化
getAttributeNS(namespaceURI，localName)：取得属于命名空间namespaceURI且名为localName的特性
getAttributeNodeNS(namespaceURI，localName)：取得属于命名空间namespaceURI且名为localName的特性
getElementsByTagNameNS(namespaceURI，tagName)：取得属于命名空间namespaceURI的tagName元素的NodeList
hasAttributeNS(namespaceURI，localName)：确定当前元素是否有一个名为localName的特性，而且该特性的命名空间时namespaceURI
removeAttributeNS(namespaceURI，localName)：删除属于命名空间namespaceURI且名为localName的特性
setAttributeNS(namespaceURI，qualifiedName,value)：设置属于命名空间namespaceURI且名为qualifiedName的特性的值为value
setAttributeNodeNS(attNode)：设置属于命名空间namespaceURI的特性节点

4. NamedNodeMap类型的变化
NamedNodeMap表示属性节点attr的集合
getNamedItemNS(namespaceURI,localName)：取得属于命名空间namespaceURI且名为localName的项
removeNamedItemNS(namespaceURI,localName)：移除属于命名空间namespaceURI且名为localName的项
setNamedItemNS(node)：添加node，这个节点已经事先指定了命名空间信息
由于一般都是通过元素访问特性，所以这些方法很少用








 